(this.webpackJsonpstreamlit_d3_areachart=this.webpackJsonpstreamlit_d3_areachart||[]).push([[0],{25:function(t,e,n){},69:function(t,e,n){t.exports=n(81)},80:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),c=n(22),o=n.n(c),l=n(1),i=n(23),s=n(11),u=n(3),f=n(25),d=n.n(f),p=(n(78),u.g(",")),m=u.m("%m/%d/%y"),h=u.d((function(t){return t.date})).left,y=function(t,e,n,a,r){return[u.j().domain(u.f(t,(function(t){return t.date}))).range([r.left,n-r.right]),u.h().domain([0,e]).range([a-r.bottom,r.top])]};function k(){var t=0,e=0;return"number"==typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(t=document.body.clientWidth,e=document.body.clientHeight),{width:t,height:e}}var g=Object(s.b)((function(t){var e=.38,n=k(),c=Object(a.useState)(n.width),o=Object(l.a)(c,2),f=o[0],g=o[1];f<600&&(e=.68);var b=Object(a.useState)(e*f),v=Object(l.a)(b,2),w=v[0],x=v[1];s.a.setFrameHeight(w);var E="".concat(11+5*f/1e3,"px"),j="".concat(11+5*f/1e3,"px"),O=.003*f,F={top:10,bottom:4*parseFloat(E)-10,left:2*parseFloat(E)+30,right:3*parseFloat(E)},A=t.args.groups,z=(t.args.colors,JSON.parse(t.args.data).map((function(t){var e={date:new Date("string"==typeof t.date?t.date.split("T")[0]+"T12:00:00":t.date)};return A.map((function(n){return e[n]=t[n]})),e}))),S=u.l().keys(A)(z),H=S.at(-1).at(-1)[1],L=y(z,H,f,w,F),C=Object(l.a)(L,2),W=C[0],N=C[1],T=u.i().domain(A).range(t.args.colors),_=Object(a.useRef)(null);return Object(a.useEffect)((function(){s.a.setFrameHeight(w),u.k(_.current).style("height",w),window.addEventListener("resize",(function(){var t=.38,e=k();g(e.width),f<600&&(t=.68),x(t*f)}))}),[f,w]),Object(a.useEffect)((function(){var t=u.k(_.current);t.append("g").classed("x-axis",!0),t.append("g").classed("y-axis",!0),t.append("g").classed("stacked-area",!0),t.append("g").classed("legend",!0),t.append("rect").classed("box",!0),A.forEach((function(e){return t.append("g").classed("".concat(e.toLowerCase().split(" ")[0],"-focus"),!0)}))}),[]),Object(a.useEffect)((function(){var t=u.k(_.current);t.select(".x-axis").call((function(t){return t.attr("transform","translate(0, ".concat(w-F.bottom,")")).transition().duration(1200).attr("font","sans-serif").attr("font-size",E).call(u.b(W).ticks(u.n).tickFormat(u.m("%b %y")).tickSize(5).tickSizeOuter(0)).call((function(t){return t.selectAll("text").style("text-anchor","middle")})).call((function(t){return t.selectAll("path").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)})).call((function(t){return t.selectAll(".tick line").attr("stroke","black").attr("stroke-opacity",1).attr("stroke-width",1)}))})),t.select(".y-axis").call((function(t){return t.attr("transform","translate(".concat(F.left,", 0)")).transition().duration(1200).attr("font","sans-serif").attr("font-size",E).call(u.c(N).ticks(8,".0s").tickSize(-1*(f-F.right-F.left)).tickSizeOuter(0)).call((function(t){return t.selectAll("text")})).call((function(t){return t.selectAll("path").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)})).call((function(t){return t.selectAll("line").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)})).call((function(t){return t.selectAll(".tick line").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",.25).attr("stroke-dasharray","2,2")}))}))})),Object(a.useEffect)((function(){var t=u.k(_.current);A.reverse(),t.select(".legend").selectAll("circle").data(A).join((function(t){return t.append("circle").attr("cx",F.left+20).attr("cy",(function(t,e){return F.top/2*(1-e)+17+30*e})).attr("r",parseInt(j)/2).style("fill",(function(t){return T(t)})).attr("opacity",0).call((function(t){return t.transition().duration(1200).attr("opacity",1)}))}),(function(t){return t.call((function(t){return t.transition().duration(1200).style("fill",(function(t){return T(t)})).attr("cx",F.left+20).attr("cy",(function(t,e){return F.top/2*(1-e)+17+30*e})).attr("r",parseFloat(j)/2).attr("opacity",1)}))})),t.select(".legend").selectAll("text").data(A).join((function(t){return t.append("text").attr("x",F.left+parseFloat(j)/2+25).text((function(t){return t})).attr("font-size",j).attr("font-weight","bold").attr("text-anchor","left").style("alignment-baseline","middle").style("fill",(function(t){return T(t)})).call((function(t){return t.attr("y",(function(t,e){return F.top/2*(1-e)+17+30*e+1}))}))}),(function(t){return t.call((function(t){return t.transition().duration(1200).text((function(t){return t})).style("fill",(function(t){return T(t)})).attr("x",F.left+parseFloat(j)/2+25).attr("font-size",j).attr("y",(function(t,e){return F.top/2*(1-e)+17+30*e+1}))}))})),A.reverse()})),Object(a.useEffect)((function(){var t=u.k(_.current),e=u.a().x((function(t){return W(t.data.date)})).y0((function(t){return N(t[0])})).y1((function(t){return N(t[1])}));t.select(".stacked-area").selectAll("path").data(S).join((function(t){return t.append("path").classed(d.a.area,!0).attr("d",(function(t){return e(t)})).attr("fill",(function(t){return T(t.key)})).attr("fill-opacity",.3).attr("opacity",0).call((function(t){return t.transition().duration(1200).attr("fill-opacity",.7).attr("opacity",1)}))}),(function(t){return t.attr("fill",(function(t){return T(t.key)})).attr("fill-opacity",.3).attr("opacity",0).call((function(t){return t.transition().duration(1200).attr("d",(function(t){return e(t)})).attr("fill-opacity",.75).attr("opacity",1)}))}))})),Object(a.useEffect)((function(){var t=u.k(_.current),e=u.k(".tooltip");t.select(".box").attr("transform","translate(".concat(F.left+1,", 0)")).attr("width",f-F.right-F.left).attr("height",w-F.bottom).on("mouseover",(function(){A.forEach((function(e){var n=t.select(".".concat(e.toLowerCase().split(" ")[0],"-focus"));n.append("line").classed("focusLine",!0),n.append("circle").classed("focusCircle",!0).attr("r",O).attr("fill",T(e)),n.classed("hide",!1),n.classed("show",!0)}))})).on("mouseout",(function(){A.forEach((function(e){var n=t.select(".".concat(e.toLowerCase().split(" ")[0],"-focus"));n.classed("show",!1),n.classed("hide",!0)})),e.classed("show",!1),e.classed("hide",!0)})).on("mousemove",(function(){var n=S[0].map((function(t){return t.data})),a={},c=u.e.pageX,o=u.e.pageY,l=W.invert(c),s=h(n,l),d=n[(s=(s=s<0?0:s)>n.length-1?n.length-1:s)-1],y=n[s];a=m(l)-m(d.date)>m(y.date)-m(l)?y:d,0==s&&(a=d),s==n.length-1&&(a=y),A.forEach((function(e,n){var r=t.select(".".concat(e.toLowerCase().split(" ")[0],"-focus")),c=a.date,o=S[n][s];r.select(".focusCircle").attr("cx",W(c)).attr("cy",N(o[1])),r.select(".focusLine").attr("x1",W(c)).attr("y1",N(o[0])).attr("x2",W(c)).attr("y2",N(o[1])).attr("fill","black").attr("stroke","black")})),e.html(function(t){var e=A.reduce((function(e,n){return e+t[n]}),0);return Object(i.renderToString)(r.a.createElement("div",{className:".tooltip"},r.a.createElement("p",null,"Date: ",r.a.createElement("strong",null,m(t.date))),A.map((function(e){return r.a.createElement("p",{key:e,style:{color:T(e)}},e,": ",r.a.createElement("strong",null,p(t[e])))})),r.a.createElement("p",{style:{color:"#F77F00"}},"Total: ",r.a.createElement("strong",null,p(e)))))}(a));var k=c>f/2?c-parseFloat(e.style("width"))-10:c+10,g=o>w/2?o-parseFloat(e.style("height")):o;e.style("left","".concat(k,"px")).style("top","".concat(g,"px")),e.classed("hide",!1),e.classed("show",!0)}))})),r.a.createElement("div",{className:"areachart-container"},r.a.createElement("div",{className:"tooltip hide"}),r.a.createElement("svg",{className:"areachart-svg",ref:_}))}));n(80);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.c754f23f.chunk.js.map
(this.webpackJsonpstreamlit_d3_timechart=this.webpackJsonpstreamlit_d3_timechart||[]).push([[0],{75:function(t,e,n){t.exports=n(85)},83:function(t,e,n){},84:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),c=n(23),i=n.n(c),o=n(1),l=n(10),u=n(3),s=(n(83),function(t,e,n){var a={};return a.x=t/2,a.y=e-n.bottom,a}),d=function(t,e,n){var a={},r=t-e.left-e.right;return a.base=r,a.cap=r/20,a.inner=r/2-r*n/2,a.outer=r/2,a.outer_tick=r/2+5,a.tick_label=r/2+15,a},f=function(t,e,n,a){var r={},c=1-t;return r.arc_complement=c,r.start_angle=-e/2,r.end_angle=e/2,r},p=function(t,e,n,a){var r=(t.end_angle-t.start_angle)/(e-1),c=a/(e-1);return u.e(e).map((function(e){var a=t.start_angle+r*e;return{label:y(c*e),angle:a,coordinates:[[a,n.inner],[a,n.outer_tick]]}}))},h=function(t,e,n){var a=e,r=(n.end_angle-n.start_angle)/a,c=u.g().domain([0,1]).interpolate(u.c).range([u.f("#09ab3b"),u.f("#ff006e")]);return u.e(a).map((function(t){var e=t/(a-1),i=n.start_angle+r*t,o=i+r;return{fill:c(e),start:i,end:o}}))},g=function(t,e,n){var a={};return a.lineRadial=u.d(),a.subArcScale=u.a().innerRadius(t.inner+1).outerRadius(t.outer).startAngle((function(t){return t.start})).endAngle((function(t){return t.end})),a.needleScale=u.g().domain([0,n]).range([e.start_angle,e.end_angle]),a};function m(){var t=0,e=0;return"number"==typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(t=document.body.clientWidth,e=document.body.clientHeight),{width:t,height:e}}var y=u.b(".1%"),b=u.b(".2%"),k=Object(l.b)((function(t){var e=t.args,n=e.data,c=e.rotation,i=e.thickness,y=e.arc,k=e.ticks,_=e.color_scheme,v=e.color_step,w=e.tick_color,x=e.needle_color;n[2]>n[1]&&(n[1]=n[2]);var E=m(),j=E.width>250?250:E.width,F=Object(a.useState)(j),A=Object(o.a)(F,2),S=A[0],O=A[1],R="".concat(11+5*S/1e3,"px"),H="".concat(10+5*S/400,"px"),W={top:5*parseFloat(R),bottom:1.25*parseFloat(R),left:2*parseFloat(R),right:2*parseFloat(R)},M=Object(a.useState)(.35*S+W.top),z=Object(o.a)(M,2),N=z[0],I=z[1],J=Object(a.useRef)(null);l.a.setFrameHeight(N+2*parseFloat(H)),u.h(J.current).style("width",S).style("height",N);var B=Math.PI,L=B/180,P=180/B,q=n[2],C=s(S,N,W),D=d(S,W,i),G=f(y,B,c,L),K=p(G,k,D,n[1]),Q=h(_,v,G),T=g(D,G,n[1]);return Object(a.useEffect)((function(){l.a.setFrameHeight(N+2*parseFloat(H)),u.h(J.current).style("width",S).style("height",N),window.addEventListener("resize",(function(){var t=m(),e=t.width>250?250:t.width;O(e),I(.35*S+W.top)}))}),[S,N,.35,W.top,H]),Object(a.useEffect)((function(){var t=u.h(J.current);t.append("g").classed("gauge-arc",!0),t.append("g").classed("gauge-ticks",!0),t.append("g").classed("needle",!0),t.append("g").classed("needle-circle",!0),t.append("g").classed("caption",!0)}),[]),Object(a.useEffect)((function(){var t=u.h(J.current);t.select(".gauge-arc").selectAll("path").data(Q).join((function(t){return t.append("path").attr("transform","translate(".concat(C.x,", ").concat(C.y,")")).attr("d",T.subArcScale).attr("fill",(function(t){return t.fill})).attr("stroke-width",.5).attr("stroke",(function(t){return t.fill})).call((function(t){return t.transition().duration(1200).attr("opacity",1)}))}),(function(t){return t.attr("opacity",0).call((function(t){return t.transition().duration(1200).attr("transform","translate(".concat(C.x,", ").concat(C.y,")")).attr("d",T.subArcScale).attr("opacity",1)}))})),t.select(".gauge-ticks").selectAll("path").data(K).join((function(t){return t.append("path").attr("transform","translate(".concat(C.x,", ").concat(C.y,")")).attr("d",(function(t){return T.lineRadial(t.coordinates)})).attr("stroke",w).attr("stroke-width",2).attr("stroke-linecap","round").attr("fill","none").call((function(t){return t.transition().duration(1200).attr("opacity",1)}))}),(function(t){return t.attr("opacity",0).call((function(t){return t.transition().duration(1200).attr("transform","translate(".concat(C.x,", ").concat(C.y,")")).attr("d",(function(t){return T.lineRadial(t.coordinates)})).attr("opacity",1)}))})),t.select(".gauge-ticks").selectAll("text").data(K).join((function(t){return t.append("text").attr("transform",(function(t){var e=t.angle*P-B;return"translate(".concat(C.x+D.tick_label*Math.sin(t.angle),", ").concat(C.y+-D.tick_label*Math.cos(t.angle),") rotate(").concat(e,")")})).attr("dy","0.35em").attr("text-anchor","middle").attr("font-size",R).text((function(t){return t.label})).call((function(t){return t.transition().duration(1200).attr("opacity",1)}))}),(function(t){return t.attr("opacity",0).call((function(t){return t.transition().duration(1200).attr("transform",(function(t){var e=t.angle*P-B;return"translate(".concat(C.x+D.tick_label*Math.sin(t.angle),", ").concat(C.y+-D.tick_label*Math.cos(t.angle),") rotate(").concat(e,")")})).text((function(t){return t.label})).attr("opacity",1)}))})),t.select(".needle").selectAll("path").data([q]).join((function(t){return t.append("path").attr("transform","translate(".concat(C.x,", ").concat(C.y,")")).attr("d",(function(t){return T.lineRadial([[0,0],[T.needleScale(t),D.outer_tick]])})).attr("stroke",x).attr("stroke-width",3).attr("stroke-linecap","round").attr("fill","white").call((function(t){return t.transition().duration(1200).attr("opacity",1)}))}),(function(t){return t.attr("opacity",0).call((function(t){return t.transition().duration(1200).attr("transform","translate(".concat(C.x,", ").concat(C.y,")")).attr("d",(function(t){return T.lineRadial([[0,0],[T.needleScale(t),D.outer_tick]])})).attr("opacity",1)}))})),t.select(".needle-circle").selectAll("circle").data([0]).join((function(t){return t.append("circle").attr("cx",C.x).attr("cy",C.y).attr("r",D.cap).attr("stroke",x).attr("stroke-width",3).attr("fill","white").call((function(t){return t.transition().duration(1200).attr("opacity",1)}))}),(function(t){return t.attr("opacity",0).attr("stroke",x).attr("stroke-width",3).attr("fill","white").call((function(t){return t.transition().duration(1200).attr("cx",C.x).attr("cy",C.y).attr("r",D.cap).attr("opacity",1)}))}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"gaugechart-container"},r.a.createElement("div",null,r.a.createElement("svg",{className:"gaugechart-svg",ref:J}))),r.a.createElement("div",{className:"legend-container"},r.a.createElement("p",{style:{fontSize:H}},"14-day case positivity rate: ",r.a.createElement("span",{style:{color:"#F77F00",fontWeight:"bold"}},b(n[2])))))}));n(84);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.c16a576d.chunk.js.map